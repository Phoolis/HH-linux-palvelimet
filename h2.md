# Komentorivin perusteet

Lähde: Karvinen 2020: [Command line basics revisited](https://terokarvinen.com/2020/command-line-basics-revisited/).

Peruskomennot erittäin lyhyesti:

- `pwd`, `cd`, `ls`, 
- `mv`, `cp`, `rm`,
- manuaalisivut `man` [komento]
- `--help` komennon perään näyttää lyhyesti miten sitä käytetään
- `history` näyttää mitä komentoja on annettu
  - `!13` ajaa komennon nr 13 historiasta, kätevä jos käyttänyt jotain pitkää rimpsua joskus paljon aiemmin
  - historiasta etsiminen: esim. `history | grep apt-get`
- `sudo` komennon eteen antaa pääkäyttäjän oikeudet

Pari muuta hyödyllistä komentoa:
- `clear` tyhjentää terminaalin tekstit, kätevä kun haluaa ottaa selkeän kuvankaappauksen ilman aikaisempia (typotettuja) komentoja näkyvissä.


## Micro

Asennuskomento `sudo apt-get install micro`
Näköjään nano-editorin isoveli. Samat pikanäppäimet mutta tuki hiiren käytölle.

## Komentoriviohjelma

Haku `apt-cache search command line` tuotti 3037 tulosta.

Asensin ensin zsh-komentorivityökalun, koska nimi oli tuttu, ja se oli listan lopussa samantien ruudulla.
<img width="1024" height="768" alt="kuva" src="https://github.com/user-attachments/assets/fb91cece-dd35-4fb0-b097-e79900eb2b7b" />

Värit ainakin kivat ja selkeät:
<img width="1024" height="768" alt="kuva" src="https://github.com/user-attachments/assets/850db2b3-33c2-41ee-9b60-581d7b98addc" />

Terminator, löysin googlaamalla mitä terminaaleja ihmiset tykkää käyttää linuxissa. Käytin sitä tilda -komentotulkin asentamiseen, joka muistuttaa vanhojen videopelien konsoliterminaalia:
<img width="1024" height="768" alt="kuva" src="https://github.com/user-attachments/assets/72caaae8-4c4a-4fa6-9611-f1a08ae8caed" />

Näiden asennusten jälkeen Terminator näytti jääneen default terminaaliksi. Haluaisin jonkun toisen terminaalin peruskäyttöön, niin löysin komennon millä niitä voi muuttaa [täältä](https://linux.how2shout.com/how-to-change-and-set-default-terminal-in-ubuntu-or-debian-linux/). 

`sudo update-alternatives --config x-terminal-emulator`

Sieltä sain vaihdettua takaisin xfce terminaalin, joka oli tässä debian-versiossa defaulttina, valinnalla 6:
<img width="1024" height="768" alt="kuva" src="https://github.com/user-attachments/assets/fe552d70-a57e-456d-a249-4c24d8a2a14b" />

Poistin juuri asentamani terminaalit, jotta voin kokeilla asentaa kaikki kolme samalla kertaa:
<img width="1024" height="768" alt="kuva" src="https://github.com/user-attachments/assets/fdc16418-5711-464f-8dda-86ceb5058821" />

Apt-komennon perään voi vain rimpsuttaa kaikki haluamansa paketit, jolloin ne asentuvat yhdellä komennolla. `-y` argumentilla voi vielä automaattisesti hyväksyä asennukset.
`sudo apt-get install zsh terminator tilda -y`

# FHS - Filesystem Hierarchy Standard

- `/`  juurihakemisto, linux järjestelmän pohjakansio.
- `/home/` käyttäjien kotihakemistot. `cd ~` komennolla pääsee omaan kotihakemistoonsa suoraan.
- `/etc/` Järjestelmän asetukset. esim. komento `cat hostname` sisältää vain yhden tekstirivin: `paul-debian13`
- `/media/` CD/USB/irroitettavat levyasemat. Tyhjä, sillä virtuaalikoneeseen ei ole mountattu mitään.
- `/var/log/` Järjestelmän lokitiedostot. esim. järjestelmän käynnistymisen logi boot.log:
<img width="1024" height="768" alt="kuva" src="https://github.com/user-attachments/assets/e3c2f828-1dee-4909-9c95-716acc8dbd6b" />

# Grep

Näitä argumentteja tulee käytettyä usein: `-i` ignore case, `-v` select non-matchin, `-c` count lines. Samoin context-argumentit (`-A`, `-B`, `-C`, ovat hyödyllisiä, jos haluaa nähdä mitä löydetyn rivin ympärillä on:

<img width="1024" height="768" alt="kuva" src="https://github.com/user-attachments/assets/f0ef3c50-43a8-415d-abaa-7ad8ee916ef9" />

Huomaa kuvan komennossa käytetty OR -syntaksi: `\|`, escaped pipe, jolla voi yhdellä grep -komennolla hakea useammalla eri hakusanalla yhdellä kertaa.

# Pipe

Yksi esimerkki yllä. `xargs` komennolla voi putkittaa yhden komennon ulostulon argumenteiksi toiselle komennolle, esim tässä etsitään tiedostot nimellä ja poistetaan ne:

<img width="1024" height="768" alt="kuva" src="https://github.com/user-attachments/assets/39234a73-99f5-4e2a-9116-742fc32d02ae" />

# Rauta

`lshw` -listaus:
<img width="1024" height="768" alt="kuva" src="https://github.com/user-attachments/assets/5150b1a6-81da-48ea-8179-ccb3f9462932" />

Kuvasta lukien noin suunnilleen järjestyksessä:

Järjestelmä tietää olevansa virtuaalikone. BIOS. Prossu kuten kuvassa. Muistia 4 GB. Sitä näköjään käytössä tällä hetkellä vain 32 MB, jos oikein luen. 32 GB virtuaalista kovalevytilaa. Virtuaalinen DVD-asema .iso-tiedostojen lukemiseksi. Viimeiset viisi riviä: hyper-v näyttöajuri, näppäimistö, hiiri, kaiutin, verkkokortti.





