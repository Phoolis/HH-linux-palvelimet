# Palvelimen vuokraminen

Tiivistelmät lähteistä [Susanna Lehto 2022: Teoriasta käytäntöön pilvipalvelimen avulla (h4)](https://susannalehto.fi/2022/teoriasta-kaytantoon-pilvipalvelimen-avulla-h4/) ja Karvinen 2012: [First Steps on a New Virtual Private Server – an Example on DigitalOcean and Ubuntu 16.04 LTS](https://terokarvinen.com/2017/first-steps-on-a-new-virtual-private-server-an-example-on-digitalocean/)

- Vuokrasi yksityisen DigitalOceanin `virtual private server`:in. Näköjään ilmainen GitHub Education -paketin kautta.
- Domaini NameCheap:lta.
- Näköjään aloituskäyttö ilmainen GitHub Education -paketin kautta.
- Droplet = virtuaalipalvelin DigitalOceanin sanastossa.
- Valitsee käyttöjärjestelmän, ja halutun paketin (muisti, cpu, tiedonsiirto), isompi tietenkin kalliimpi. Kuukausimaksu.
- Datakeskuksen valinta läheltä käyttäjää.
- Voi valita SSH-avaimen tai salasanan tunnistautumiseen.
- Yhteys palvelimeen, kun se on asetettu: `ssh root@188.166.4.6`. Tietenkin oman pavelilen IP-osoite tuohon.
- Palomuurin asennus ja konffaus palvelimelle:
 ```
  sudo apt-get install ufw
  sudo ufw allow 22/tpc
  sudo ufw enable
 ```
- Lisää käyttäjä `sudo adduser newusername`, ja tee siitä pääkäyttäjä `sudo adduser newusername sudo`
- Siihen yhteys `ssh newusername@188.166.4.6`
- Lukitse juuri  `sudo usermod –lock root`
- Asenna apache2 edellisviikon ohjeiden mukaan, ja avaa sille portti palomuuriin `sudo ufw allow 80/tcp`
- Palvelimen kaikkien ohjelmien päivittäminen:
 ```
  sudo apt-get update
  sudo apt-get upgrade
  sudo apt-get dist-upgrade
 ```

